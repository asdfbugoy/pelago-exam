{"version":3,"sources":["components/Pagination.js","components/List.js","components/Search.js","components/Advanced.js","App.js","hooks/Search.js","store/Search.js","store/index.js","index.js"],"names":["pages","page","fetchMovies","onClick","className","Array","from","length","d","i","key","movies","map","style","backgroundImage","Poster","Title","Type","Year","forwardedRef","isLoading","setIsAdvanced","isAdvanced","onChange","debounce","ref","type","disabled","handleInputChange","handleSubmit","inputs","onSubmit","name","value","y","placeholder","inject","props","React","useRef","useState","setMovies","setIsLoading","setPage","setPages","initialValues","callback","setInputs","event","preventDefault","persist","target","useSearchForm","a","async","params","apikey","s","current","axios","method","url","then","res","data","Search","totalResults","parseInt","catch","err","console","log","Fragment","Advanced","List","Pagination","types","model","views","self","actions","afterCreate","search","maybe","create","store","Store","ReactDOM","render","App","document","getElementById"],"mappings":"uOAEe,cAAmC,IAAhCA,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,YACrBC,EAAU,SAAAF,GAAI,OAAI,kBAAMC,EAAYD,KAC1C,OAAO,6BAASG,UAAU,oBACtB,wBAAIA,UAAU,cACTC,MAAMC,KAAK,CAAEC,OAAQP,IAAS,SAACQ,EAAGC,GAAJ,OAAU,wBAAIC,IAAKD,EAAGL,UAAS,oBAAeH,IAASQ,EAAI,EAAI,SAAW,KAAM,0BAAMN,QAASA,EAAQM,EAAI,GAAIL,UAAU,aAAaK,EAAI,UCJtK,kBAAGE,EAAH,EAAGA,OAAH,OAAgB,6BAASP,UAAU,OAC7CO,EAASA,EAAOC,KAAI,SAACJ,EAAGC,GAAJ,OAAU,yBAAKC,IAAKD,EAAGL,UAAU,YAClD,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,SAEX,yBAAKA,UAAU,SAASS,MAAO,CAAEC,gBAAgB,OAAD,OAASN,EAAEO,OAAX,SAEpD,yBAAKX,UAAU,SACX,yBAAKA,UAAU,aACX,wBAAIA,UAAU,WAAWI,EAAEQ,OAC3B,6BAAMR,EAAES,MACR,wBAAIb,UAAU,aAAaI,EAAEU,cAKvC,yBAAKd,UAAU,mBAAf,sB,iBChBC,cAA0E,IAAvEe,EAAsE,EAAtEA,aAAcC,EAAwD,EAAxDA,UAAWC,EAA6C,EAA7CA,cAAenB,EAA8B,EAA9BA,YAAaoB,EAAiB,EAAjBA,WAE7DC,EAAWC,KAAS,kBAAMtB,MAAe,KAG/C,OAAO,yBAAKE,UAAU,oBAClB,2BAAOqB,IAAKN,EAAcI,SAAUA,EAAUG,KAAK,OAAOtB,UAAU,iBACpE,yBAAKA,UAAU,sBACX,4BAAQuB,SAAUP,EAAWjB,QALf,kBAAMD,KAKiCE,UAAU,6BAA4B,uBAAGA,UAAWgB,EAAY,wBAA0B,mBAEnJ,yBAAKhB,UAAU,sBACX,4BAAQuB,SAAUP,EAAWjB,QAVb,kBAAMkB,GAAeC,IAUkBlB,UAAU,6BAA4B,uBAAGA,UAAU,0BCZvG,cAA6D,IAA1DgB,EAAyD,EAAzDA,UAAWQ,EAA8C,EAA9CA,kBAAmBC,EAA2B,EAA3BA,aAAcC,EAAa,EAAbA,OAG1D,OAAO,0BAAM1B,UAAU,MAAM2B,SAAUF,GACnC,yBAAKzB,UAAU,uBAAsB,2BAAOmB,SAAUK,EAAmBI,KAAK,IAAIC,MAAOH,EAAOI,EAAG9B,UAAU,eAAesB,KAAK,OAAOS,YAAY,UACpJ,yBAAK/B,UAAU,wBAAuB,4BAAQA,UAAU,eAAemB,SAAUK,EAAmBI,KAAK,OAAOC,MAAOH,EAAOJ,MAC1H,4BAAQO,MAAM,IAAd,QALM,CAAC,QAAS,SAAU,WAMnBrB,KAAI,SAACJ,EAAGC,GAAJ,OAAU,4BAAQC,IAAKD,EAAGwB,MAAOzB,GAAIA,QAEpD,yBAAKJ,UAAU,wBAAuB,2BAAOmB,SAAUK,EAAmBK,MAAOH,EAAO7B,KAAMG,UAAU,eAAe4B,KAAK,OAAON,KAAK,OAAOS,YAAY,UAC3J,yBAAK/B,UAAU,UAAS,4BAAQuB,SAAUP,EAAWM,KAAK,SAAStB,UAAU,2BAA0B,uBAAGA,UAAWgB,EAAY,wBAA0B,iBAAnI,c,QCHjBgB,cAAO,QAAPA,EAAgB,SAACC,GAC5B,IAAMZ,EAAMa,IAAMC,SADoB,EAEVD,IAAME,SAAS,IAFL,mBAE/B7B,EAF+B,KAEvB8B,EAFuB,OAGJH,IAAME,UAAS,GAHX,mBAG/BpB,EAH+B,KAGpBsB,EAHoB,OAIFJ,IAAME,UAAS,GAJb,mBAI/BlB,EAJ+B,KAInBD,EAJmB,OAKdiB,IAAME,SAAS,GALD,mBAK/BvC,EAL+B,KAKzB0C,EALyB,OAMZL,IAAME,SAAS,GANH,mBAM/BxC,EAN+B,KAMxB4C,EANwB,OCP1B,SAACC,EAAeC,GAAc,IAAD,EACbR,IAAME,SAASK,GADF,mBAClCf,EADkC,KAC1BiB,EAD0B,KAUzC,MAAO,CACHlB,aATiB,SAACmB,GACdA,GAAOA,EAAMC,iBACjBH,KAQAlB,kBANsB,SAACoB,GACvBA,EAAME,UACNH,GAAU,SAAAjB,GAAM,sBAAUA,EAAV,eAAmBkB,EAAMG,OAAOnB,KAAOgB,EAAMG,OAAOlB,YAKpEH,UDEgDsB,CAAc,IADjD,kBAAMlD,OACf4B,EAR8B,EAQ9BA,OAAQF,EARsB,EAQtBA,kBAAmBC,EARG,EAQHA,aAInC,SAAe3B,EAAYD,GAA3B,eAAAoD,EAAAC,OAAA,uDACUC,EAASjC,EAAU,aAEjBkC,OAAQ,WACRC,EAAGhC,EAAIiC,QAAQzB,OACZH,GAEL,CACE0B,OAAQ,WACRC,EAAGhC,EAAIiC,QAAQzB,OAEvBS,GAAa,GAXjB,WAAAW,EAAA,MAYUM,IAAM,CACRC,OAAQ,OACRC,IAAK,0BACLN,OAAQtD,EAAI,eAAQsD,EAAR,CAAgBtD,KAAMA,IAASsD,IAE1CO,MAAK,SAAAC,GACFtB,EAAUsB,EAAIC,KAAKC,QACnBvB,GAAa,GACbC,EAAQ1C,GACR2C,EAASmB,EAAIC,KAAKE,aAAeC,SAASJ,EAAIC,KAAKE,aAAe,GAAI,IAAM,MAE/EE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAvBlC,qCA0BA,OAAO,kBAAC,IAAMG,SAAP,KACH,6BAASpE,UAAU,aACf,4BAAQA,UAAU,kCACd,yBAAKA,UAAU,aACX,yBAAKA,UAAU,WAAf,OACA,yBAAKA,UAAU,aAAf,YAIR,6BAASA,UAAU,QACf,kBAAC,EAAD,CAAQe,aAAcM,EAAKL,UAAWA,EAAWE,WAAYA,EAAYD,cAAeA,EAAenB,YAAaA,IACnHoB,GAAc,kBAACmD,EAAD,CAAUvE,YAAaA,EAAakB,UAAWA,EAAWS,aAAcA,EAAcD,kBAAmBA,EAAmBE,OAAQA,KAGrJV,EAAuC,wBAAIhB,UAAU,oBAAmB,uBAAGA,UAAU,0BAA9C,YAA3B,kBAACsE,EAAD,CAAM/D,OAAQA,IAE3BX,EAAQ,GAAK,kBAAC2E,EAAD,CAAY3E,MAAOA,EAAOC,KAAMA,EAAMC,YAAaA,S,OE7D9D0E,UAAMC,MAAM,SAAU,CACjC3C,EAAG,EACHjC,KAAM,EACNwD,EAAG,GACH/B,KAAM,KACPoD,OAAM,SAAAC,GAAI,MAAK,MAEdC,SAAQ,SAAAD,GAAI,MAAK,CACjBE,YADiB,iBCPNL,UAAMC,MAAM,OAAQ,CAC/BK,OAAQN,QAAMO,MAAMlB,KACrBa,OAAM,SAAAC,GAAI,MAAK,MAEdC,SAAQ,SAAAD,GAAI,MAAK,CACjBE,YADiB,WAEbF,EAAKG,OAASjB,EAAOmB,OAAO,SCG9BC,G,MAAQC,EAAMF,OAAO,KAW3BG,IAASC,OAAO,kBAAC,IAAD,CAAUH,MAAOA,GAAO,kBAACI,EAAD,OAAoBC,SAASC,eAAe,W","file":"static/js/main.2900d971.chunk.js","sourcesContent":["import React from 'react';\n\nexport default ({ pages, page, fetchMovies }) => {\n    const onClick = page => () => fetchMovies(page);\n    return <section className=\"table-responsive\">\n        <ul className=\"pagination\">\n            {Array.from({ length: pages }, (d, i) => <li key={i} className={`page-item ${page === i + 1 ? 'active' : ''}`}><span onClick={onClick(i + 1)} className=\"page-link\">{i + 1}</span></li>)}\n        </ul>\n    </section>\n}","import React from 'react';\n\nexport default ({ movies }) => <section className=\"row\">\n    {movies ? movies.map((d, i) => <div key={i} className=\"col-sm-6\">\n        <div className=\"card shadow mb-3\">\n            <div className=\"row no-gutters\">\n                <div className=\"col-3\">\n                    {/* <img src={d.Poster} className=\"img-fluid\" height=\"150\" alt=\"\" /> */}\n                    <div className=\"poster\" style={{ backgroundImage: `url(${d.Poster})` }}></div>\n                </div>\n                <div className=\"col-9\">\n                    <div className=\"card-body\">\n                        <h5 className=\"primary\">{d.Title}</h5>\n                        <div>{d.Type}</div>\n                        <h5 className=\"secondary\">{d.Year}</h5>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>) : <div className=\"col text-center\">No record found!</div>}\n</section>","import React from 'react';\nimport debounce from 'lodash.debounce';\n\nexport default ({ forwardedRef, isLoading, setIsAdvanced, fetchMovies, isAdvanced }) => {\n    const onClickAdvanced = () => setIsAdvanced(!isAdvanced);\n    const onChange = debounce(() => fetchMovies(), 1000);\n    const onClickSearch = () => fetchMovies();\n\n    return <div className=\"input-group mb-3\">\n        <input ref={forwardedRef} onChange={onChange} type=\"text\" className=\"form-control\" />\n        <div className=\"input-group-append\">\n            <button disabled={isLoading} onClick={onClickSearch} className=\"btn btn-outline-secondary\"><i className={isLoading ? 'fa fa-spin fa-spinner' : 'fa fa-search'}></i></button>\n        </div>\n        <div className=\"input-group-append\">\n            <button disabled={isLoading} onClick={onClickAdvanced} className=\"btn btn-outline-secondary\"><i className=\"fa fa-search-plus\"></i></button>\n        </div>\n    </div>\n}","import React from 'react';\n\nexport default ({ isLoading, handleInputChange, handleSubmit, inputs }) => {\n    const mType = ['movie', 'series', 'episode'];\n    \n    return <form className=\"row\" onSubmit={handleSubmit}>\n        <div className=\"col-sm mb-0-sm mb-3\"><input onChange={handleInputChange} name=\"y\" value={inputs.y} className=\"form-control\" type=\"text\" placeholder=\"Year\" /></div>\n        <div className=\"col-sm  mb-0-sm mb-3\"><select className=\"form-control\" onChange={handleInputChange} name=\"type\" value={inputs.type}>\n            <option value=\"\">Type</option>\n            {mType.map((d, i) => <option key={i} value={d}>{d}</option>)}\n        </select></div>\n        <div className=\"col-sm  mb-0-sm mb-3\"><input onChange={handleInputChange} value={inputs.page} className=\"form-control\" name=\"page\" type=\"text\" placeholder=\"Page\" /></div>\n        <div className=\"col-sm\"><button disabled={isLoading} type=\"submit\" className=\"btn btn-secondary w-100\"><i className={isLoading ? 'fa fa-spin fa-spinner' : 'fa fa-search'}></i> Search</button></div>\n    </form>\n}","import React from 'react';\nimport axios from 'axios';\nimport useSearchForm from './hooks/Search';\nimport Pagination from './components/Pagination';\nimport List from './components/List';\nimport Search from './components/Search';\nimport Advanced from './components/Advanced';\nimport { inject } from 'mobx-react';\n\nexport default inject('store')((props) => {\n    const ref = React.useRef();\n    const [movies, setMovies] = React.useState([]);\n    const [isLoading, setIsLoading] = React.useState(false);\n    const [isAdvanced, setIsAdvanced] = React.useState(false);\n    const [page, setPage] = React.useState(1);\n    const [pages, setPages] = React.useState(0);\n    const onSubmit = () => fetchMovies();\n    const { inputs, handleInputChange, handleSubmit } = useSearchForm({}, onSubmit);\n\n    // React.useEffect(() => fetchMovies(), []);\n\n    async function fetchMovies(page) {\n        const params = isAdvanced\n            ? {\n                apikey: '185c5ebb',\n                s: ref.current.value,\n                ...inputs\n            }\n            : {\n                apikey: '185c5ebb',\n                s: ref.current.value,\n            }\n        setIsLoading(true);\n        await axios({\n            method: 'post',\n            url: 'https://www.omdbapi.com',\n            params: page ? { ...params, page: page } : params\n        })\n            .then(res => {\n                setMovies(res.data.Search);\n                setIsLoading(false);\n                setPage(page);\n                setPages(res.data.totalResults ? parseInt(res.data.totalResults / 10, 10) : 0)\n            })\n            .catch(err => console.log(err));\n    }\n\n    return <React.Fragment>\n        <article className=\"container\">\n            <header className=\"header card border shadow mb-5\">\n                <div className=\"card-body\">\n                    <div className=\"primary\">hey</div>\n                    <div className=\"secondary\">cinema</div>\n                </div>\n            </header>\n\n            <section className=\"mb-5\" >\n                <Search forwardedRef={ref} isLoading={isLoading} isAdvanced={isAdvanced} setIsAdvanced={setIsAdvanced} fetchMovies={fetchMovies} />\n                {isAdvanced && <Advanced fetchMovies={fetchMovies} isLoading={isLoading} handleSubmit={handleSubmit} handleInputChange={handleInputChange} inputs={inputs} />}\n            </section>\n\n            {!isLoading ? <List movies={movies} /> : <h1 className=\"text-center mb-3\"><i className=\"fa fa-spin fa-spinner\"></i> Loading</h1>}\n\n            {pages > 1 && <Pagination pages={pages} page={page} fetchMovies={fetchMovies} />}\n        </article>\n    </React.Fragment>\n})\n","import React from 'react';\n\nexport default  (initialValues, callback) => {\n    const [inputs, setInputs] = React.useState(initialValues);\n    const handleSubmit = (event) => {\n        if (event) event.preventDefault();\n        callback();\n    }\n    const handleInputChange = (event) => {\n        event.persist();\n        setInputs(inputs => ({ ...inputs, [event.target.name]: event.target.value }));\n    }\n    return {\n        handleSubmit,\n        handleInputChange,\n        inputs\n    };\n}","import { types, flow } from 'mobx-state-tree'\n\nexport default types.model('Search', {\n    y: 0,\n    page: 1,\n    s: '',\n    type: ''\n}).views(self => ({\n\n})).actions(self => ({\n    afterCreate() {\n        \n    }\n}));","import { types, flow } from 'mobx-state-tree'\nimport Search from './Search';\nexport default types.model('Root', {\n    search: types.maybe(Search)\n}).views(self => ({\n\n})).actions(self => ({\n    afterCreate() {\n        self.search = Search.create({})\n    }\n}));","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\nimport { Provider } from 'mobx-react';\nimport Store from './store';\nimport makeInspectable from 'mobx-devtools-mst'\nimport { onPatch } from 'mobx-state-tree';\n\n// const Provider = React.createContext(null);\n\nconst store = Store.create({});\n\nconst startDebugging = () => {\n    onPatch(store, patch => {\n        console.log(patch)\n    })\n    makeInspectable(store)\n}\n\nif (process.env.NODE_ENV === 'development') startDebugging()\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}