(this.webpackJsonppelago=this.webpackJsonppelago||[]).push([[0],{24:function(e,a,t){e.exports=t(48)},48:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(5),s=t.n(r),l=t(11),m=t.n(l),o=t(6),i=t(4),u=t(21),d=t.n(u),p=t(9),f=function(e){var a=e.pages,t=e.page,n=e.fetchMovies,r=function(e){return function(){return n(e)}};return c.a.createElement("section",{className:"table-responsive"},c.a.createElement("ul",{className:"pagination"},Array.from({length:a},(function(e,a){return c.a.createElement("li",{key:a,className:"page-item ".concat(t===a+1?"active":"")},c.a.createElement("span",{onClick:r(a+1),className:"page-link"},a+1))}))))},b=function(e){var a=e.movies;return c.a.createElement("section",{className:"row"},a?a.map((function(e,a){return c.a.createElement("div",{key:a,className:"col-sm-6"},c.a.createElement("div",{className:"card shadow mb-3"},c.a.createElement("div",{className:"row no-gutters"},c.a.createElement("div",{className:"col-3"},c.a.createElement("div",{className:"poster",style:{backgroundImage:"url(".concat(e.Poster,")")}})),c.a.createElement("div",{className:"col-9"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"primary"},e.Title),c.a.createElement("div",null,e.Type),c.a.createElement("h5",{className:"secondary"},e.Year))))))})):c.a.createElement("div",{className:"col text-center"},"No record found!"))},v=t(22),E=t.n(v),h=function(e){var a=e.forwardedRef,t=e.isLoading,n=e.setIsAdvanced,r=e.fetchMovies,s=e.isAdvanced,l=E()((function(){return r()}),1e3);return c.a.createElement("div",{className:"input-group mb-3"},c.a.createElement("input",{ref:a,onChange:l,type:"text",className:"form-control"}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{disabled:t,onClick:function(){return r()},className:"btn btn-outline-secondary"},c.a.createElement("i",{className:t?"fa fa-spin fa-spinner":"fa fa-search"}))),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{disabled:t,onClick:function(){return n(!s)},className:"btn btn-outline-secondary"},c.a.createElement("i",{className:"fa fa-search-plus"}))))},N=function(e){var a=e.isLoading,t=e.handleInputChange,n=e.handleSubmit,r=e.inputs;return c.a.createElement("form",{className:"row",onSubmit:n},c.a.createElement("div",{className:"col-sm mb-0-sm mb-3"},c.a.createElement("input",{onChange:t,name:"y",value:r.y,className:"form-control",type:"text",placeholder:"Year"})),c.a.createElement("div",{className:"col-sm  mb-0-sm mb-3"},c.a.createElement("select",{className:"form-control",onChange:t,name:"type",value:r.type},c.a.createElement("option",{value:""},"Type"),["movie","series","episode"].map((function(e,a){return c.a.createElement("option",{key:a,value:e},e)})))),c.a.createElement("div",{className:"col-sm  mb-0-sm mb-3"},c.a.createElement("input",{onChange:t,value:r.page,className:"form-control",name:"page",type:"text",placeholder:"Page"})),c.a.createElement("div",{className:"col-sm"},c.a.createElement("button",{disabled:a,type:"submit",className:"btn btn-secondary w-100"},c.a.createElement("i",{className:a?"fa fa-spin fa-spinner":"fa fa-search"})," Search")))},g=t(10),y=Object(g.b)("store")((function(e){var a=c.a.useRef(),t=c.a.useState([]),n=Object(i.a)(t,2),r=n[0],s=n[1],l=c.a.useState(!1),u=Object(i.a)(l,2),v=u[0],E=u[1],g=c.a.useState(!1),y=Object(i.a)(g,2),w=y[0],S=y[1],C=c.a.useState(1),k=Object(i.a)(C,2),j=k[0],O=k[1],I=c.a.useState(0),x=Object(i.a)(I,2),R=x[0],A=x[1],L=function(e,a){var t=c.a.useState(e),n=Object(i.a)(t,2),r=n[0],s=n[1];return{handleSubmit:function(e){e&&e.preventDefault(),a()},handleInputChange:function(e){e.persist(),s((function(a){return Object(o.a)({},a,Object(p.a)({},e.target.name,e.target.value))}))},inputs:r}}({},(function(){return P()})),M=L.inputs,T=L.handleInputChange,J=L.handleSubmit;function P(e){var t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=w?Object(o.a)({apikey:"185c5ebb",s:a.current.value},M):{apikey:"185c5ebb",s:a.current.value},E(!0),n.next=4,m.a.awrap(d()({method:"post",url:"https://www.omdbapi.com",params:e?Object(o.a)({},t,{page:e}):t}).then((function(a){s(a.data.Search),E(!1),O(e),A(a.data.totalResults?parseInt(a.data.totalResults/10,10):0)})).catch((function(e){return console.log(e)})));case 4:case"end":return n.stop()}}))}return c.a.createElement(c.a.Fragment,null,c.a.createElement("article",{className:"container"},c.a.createElement("header",{className:"header card border shadow mb-5"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"primary"},"hey"),c.a.createElement("div",{className:"secondary"},"cinema"))),c.a.createElement("section",{className:"mb-5"},c.a.createElement(h,{forwardedRef:a,isLoading:v,isAdvanced:w,setIsAdvanced:S,fetchMovies:P}),w&&c.a.createElement(N,{fetchMovies:P,isLoading:v,handleSubmit:J,handleInputChange:T,inputs:M})),v?c.a.createElement("h1",{className:"text-center mb-3"},c.a.createElement("i",{className:"fa fa-spin fa-spinner"})," Loading"):c.a.createElement(b,{movies:r}),R>1&&c.a.createElement(f,{pages:R,page:j,fetchMovies:P})))})),w=t(3),S=w.types.model("Search",{y:0,page:1,s:"",type:""}).views((function(e){return{}})).actions((function(e){return{afterCreate:function(){}}})),C=w.types.model("Root",{search:w.types.maybe(S)}).views((function(e){return{}})).actions((function(e){return{afterCreate:function(){e.search=S.create({})}}})),k=(t(23),C.create({}));s.a.render(c.a.createElement(g.a,{store:k},c.a.createElement(y,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.2900d971.chunk.js.map